(function(a){a.AjaxForm=function(c,b){this.object=c;this.options=b;this._bindEvent()};a.AjaxForm.defaults={method:"POST"};a.AjaxForm.prototype={_getForm:function(){return a(this.object)},runCallback:function(b,c,e,d){if(typeof(e)!="undefined"){b[c]=e;b[c].apply(b,d)}},_activateControls:function(b){this._getForm().find("input,select,button").attr("disabled",!b)},_bindEvent:function(){var b=this;a(this._getForm()).unbind("submit").submit(function(d){d.preventDefault();var c=this.action;var e=a(this).serialize();var f=(this.method)?this.method:b.options.method;a.ajax({url:c,data:e,type:f,beforeSend:function(){b._activateControls(false);var g=a(b._getForm()).get(0);b.runCallback(g,"ajaxform_beforesend_callback",b.options.beforeSend)},complete:function(h,k){b._activateControls(true);if(typeof(b.options.afterSend)!="undefined"){var g=null;var j=null;if(h.status==200){g="success";j=h.responseText}else{g="fail"}var i=a(b._getForm()).get(0);console.log(i);b.runCallback(i,"ajaxform_aftersend_callback",b.options.afterSend,[j,g])}}})})}};a.fn.extend({ajaxForm:function(b){var c=a.extend({},a.AjaxForm.defaults,b);return this.each(function(){new a.AjaxForm(this,c)})}})})(jQuery);