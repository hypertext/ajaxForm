(function(a){a.AjaxForm=function(c,b){this.object=c;this.options=b;this.request={};this.overrideFormSubmit()};a.AjaxForm.defaults={method:"POST"};a.AjaxForm.prototype={getRequest:function(){return this.request},getCompleteCallback:function(d,e){var b=d.status==200;var c=d.responseText;if(typeof(this.options.result)!="undefined"){callback=this.options.result;callback.apply(this.object,[b,c])}},getFormData:function(){if(this.object.enctype=="multipart/form-data"){var b=new FormData(this.object);return b}else{return a(this.object).serialize()}},decorateRequest:function(d){var e=this;var c=this.object;var b=this.options;var d=d||this.getRequest();d.url=c.action;d.type=c.method;d.contentType=c.enctype!="multipart/form-data";d.processData=c.enctype!="multipart/form-data";d.data=this.getFormData();d.dataType=(typeof(b.dataType)!="undefined"&&b.dataType!=null)?b.dataType:"html";d.beforeSend=(typeof(b.beforeSend)!="undefined"&&b.beforeSend!=null)?b.beforeSend:null;d.complete=function(f,g){e.getCompleteCallback.apply(e,[f,g])}},sendRequest:function(){var b=this.getRequest();this.decorateRequest(b);a.ajax(b)},overrideFormSubmit:function(){var b=this;a(this.object).submit(function(){b.sendRequest();return false})}};a.fn.extend({ajaxForm:function(b){var c=a.extend({},a.AjaxForm.defaults,b);return this.each(function(){new a.AjaxForm(this,c)})}})})(window.jQuery);